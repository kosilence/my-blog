---
title: '读书笔记: JavaScript 语言精粹'
date: 2017-06-26 11:00:36
desc:
---
    
《JavaScript: The Good Parts》

JavaScript 曾是“世界上最被误解的语言”，因为它担负太多的特性，包括糟糕的交互和失败的设计。

本书拨开了 JavaScript 沾污的外衣，抽离出一个具有更好可靠性、可读性和可维护性的 JavaScript 子集，让你看到一门优雅的、轻量级的和非常富有表现力的语言。

<!--more-->

-------

## 第一章 精华 - Good Parts

## 第二章 语法 - Grammar

#### 1、注释

注释应该被优先用来提高程序的可读性。但是没有用的注释比没有注释更糟糕。

块注释 `/* */` 的字符也有可能同时出现在正则表达式中，所以块注释对于被注释的代码块来说是不安全的。应尽量使用 行注释 `//` 来代替 块注释 `/* */` 。

#### 2、数字

JavaScript 中只有一个数字类型，它在内部被表示为64位的浮点数。

`NaN` 是一个数值，表示一个不能产生正常结果的运算结果。它不等于任何值，包括它自己。

`Infinity` 表示所有大于 `1.79769...e+308` 的值。

#### 3、语句

以下值被当做假 `false`

* `false`
* `null`
* `undefined`
* 空字符串 `' '`
* 数字 `0`
* 数字 `NaN`

其他所有的值被当做真，包括 `true`、字符串 `"false"`，以及其他的对象。

## 第三章 对象 - Objects

JavaScript 的简单数据类型包括：数字、字符串、布尔值、`null`值和`undefined`值，其他所有值都是对象。

数组是对象，函数是对象，正则表达式是对象，当然，对象也是对象。

#### 1、检索对象中的值

可以采用 `[]` 后缀中包含一个字符串表达式的方式，比如 `stooge["first-name"]`。

> JavaScript 的标识符中包含连接符 `-` 是不合法的，但是允许包含下划线 `_`。

如果字符串表达式是一个字符串字面量，而且是一个合法的 JS 标识符且不是保留字，可以用 `.` 表示法代替，比如 `stooge.firstName`。优先考虑此种表示法，因为它更紧凑且可读性更好。

#### 2、枚举

`for in` 语句可用来遍历一个对象中的所有属性名，包括函数和原型中的属性。最常用的过滤器是 `hasOwnProperty` 方法获取对象自身属性，以及使用 `typeof` 来排除函数。

```
var name;
for (name in stoogeObj) {
    if(stoogeObj.hasOwnProperty(name) && typeof stoogeObj.name !== 'function') {
        dosomething();
    }
}
```

#### 3、减少全局变量污染

最小化使用全局变量的方法之一是为应用创建一个唯一的全局变量，将全局性的资源纳入一个名称空间之下。

使用**闭包**来进行信息隐藏的方式，也是另一种有效减少全局变量的方法。

## 第四章 函数 - Functions

#### 1、函数对象

一个内部函数除了可以访问自己的参数和变量，同时它也能自由访问把它嵌套在其中的父函数的参数和变量。

通过函数字面量创建的函数对象包含一个连到外部上下文的连接。这被称为**闭包**。它是 JavaScript 强大表现力的来源。

#### 2、调用

JavaScript 是一门基于**原型继承**的语言。

#### 3、模块

模块模式的一般形式是：一个定义了私有变量和函数的函数；利用闭包创建可以访问私有变量和函数的特权函数；最后返回这个特权函数，或者把它们保存到一个可以访问到的地方。

使用模块模式就可以摒弃全局变量的使用。它促进了信息隐藏和其他优秀的设计模式实践。

#### 4、级联

有一些方法没有返回值。如果让这些方法返回`this`，而不是`undefined`，就可以启用级联。

#### 5、柯里化

柯里化，也常译为“局部套用”，是把多参数函数转换为一系列单参数函数并进行调用的技术。

## 第五章 继承 - Inheritance

在基于类的语言中，对象是类的实例，并且类可以从另一个类继承。JavaScript 是一门基于原型的语言，这意味着对象直接从其他对象继承。




